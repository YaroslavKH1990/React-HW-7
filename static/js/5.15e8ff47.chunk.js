(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{184:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return D}));var c=e(34),r=e(35),a=e(37),u=e(36),o=e(0),i=e(8),s=e(3),b=e(19),j=e.n(b),l=e(10),f=function(t){return function(n){var e={name:t.name,number:t.number};n(Object(l.b)()),j.a.post("/contacts",e).then((function(t){var e=t.data;return n(Object(l.c)(e))})).catch((function(t){return n(Object(l.a)(t.message))}))}},h=function(t){return function(n){n(Object(l.e)()),j.a.delete("/contacts/".concat(t)).then((function(){return n(Object(l.f)(t))})).catch((function(t){return n(Object(l.d)(t.message))}))}},m=function(){return function(t){t(Object(l.i)()),j.a.get("/contacts").then((function(n){var e=n.data;return t(Object(l.j)(e))})).catch((function(n){return t(Object(l.h)(n.message))}))}},O=e(1),d=function(t){Object(a.a)(e,t);var n=Object(u.a)(e);function e(){var t;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(t=n.call.apply(n,[this].concat(a))).state={name:"",number:""},t.inputFormChange=function(n){var e=n.currentTarget,c=e.name,r=e.value;t.setState(Object(s.a)({},c,r))},t.formSubmit=function(n){n.preventDefault();var e=t.state,c=e.name,r=e.number;c||r?(t.props.contacts.items.find((function(t){return t.name===c}))?alert("".concat(t.state.name," is already in contacts.")):t.props.onSubmit(t.state),t.setState({name:"",number:""})):alert("No field is filled")},t}return Object(r.a)(e,[{key:"render",value:function(){return Object(O.jsxs)("form",{onSubmit:this.formSubmit,children:[Object(O.jsxs)("label",{children:["Name",Object(O.jsx)("input",{type:"text",name:"name",value:this.state.name,onChange:this.inputFormChange})]}),Object(O.jsxs)("label",{children:["Number",Object(O.jsx)("input",{type:"text",name:"number",value:this.state.number,onChange:this.inputFormChange})]}),Object(O.jsx)("button",{type:"submit",children:"Add contact"})]})}}]),e}(o.Component),p=Object(i.b)((function(t){return t}),(function(t){return{onSubmit:function(n){return t(f(n))}}}))(d),g=e(27),v=function(t){return t.contacts.filter},x=Object(g.a)([function(t){return t.contacts.items},v],(function(t,n){var e=n.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(e)}))})),C=Object(s.a)({getLoader:function(t){return t.contacts.loading},getValueFilter:v,getFilterContacts:x},"getFilterContacts",x),y=Object(i.b)((function(t){return{value:C.getValueFilter(t)}}),(function(t){return{onChange:function(n){return t(Object(l.g)(n.currentTarget.value))}}}))((function(t){var n=t.value,e=t.onChange;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Find contacts by name"}),Object(O.jsx)("input",{type:"text",value:n,onChange:e})]})})),F=Object(i.b)((function(t){return{contacts:C.getFilterContacts(t)}}),(function(t){return{deleteContact:function(n){return t(h(n))}}}))((function(t){var n=t.contacts,e=t.deleteContact;return Object(O.jsx)("ul",{children:n.map((function(t){var n=t.id,c=t.name,r=t.number;return Object(O.jsxs)("li",{children:[c,": ",r,Object(O.jsx)("button",{onClick:function(){return e(n)},children:"Delete"})]},n)}))})})),k=e(135),w=e.n(k),S=function(t){Object(a.a)(e,t);var n=Object(u.a)(e);function e(){return Object(c.a)(this,e),n.apply(this,arguments)}return Object(r.a)(e,[{key:"componentDidMount",value:function(){this.props.loadContacts()}},{key:"render",value:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"ContactsPage"}),Object(O.jsx)(p,{}),Object(O.jsx)(y,{}),this.props.loader?Object(O.jsx)(w.a,{size:15,color:"#36D7B7",margin:5}):Object(O.jsx)(F,{})]})}}]),e}(o.Component),D=Object(i.b)((function(t){return{loader:C.getLoader(t)}}),(function(t){return{loadContacts:function(){return t(m())}}}))(S)}}]);
//# sourceMappingURL=5.15e8ff47.chunk.js.map